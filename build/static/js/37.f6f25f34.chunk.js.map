{"version":3,"sources":["pages/admin/UserManagement.js","components/nav/AdminNav.js","functions/admin.js"],"names":["UserManagement","useState","users","setUsers","status","setStatus","user","useSelector","state","useEffect","loadUsers","getUsers","token","then","res","data","catch","err","console","log","handleChangeStatus","userId","userStatus","userManage","toast","info","className","scope","map","u","i","name","email","mobile","onClick","_id","AdminNav","to","getOrders","authtoken","a","axios","get","process","headers","changeStatus","orderId","orderStatus","put","post"],"mappings":"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","file":"static/js/37.f6f25f34.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport AdminNav from \"../../components/nav/AdminNav\";\nimport { getUsers, userManage } from \"../../functions/admin\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\n\n\nconst UserManagement = () => {\n    const [users, setUsers] = useState([]);\n    const [status, setStatus] = useState(false)\n    const { user } = useSelector((state) => ({ ...state }));\n\n    useEffect(() => {\n        loadUsers();\n    }, [status]);\n\n    const loadUsers = () => {\n        getUsers(user.token)\n            .then((res) => {\n                // console.log('loadusers',res)\n                setUsers(res.data);\n                // console.log(users)\n            })\n            .catch((err) => {\n                console.log(\"LOAD ERR--->\", err)\n            })\n    }\n\n    const handleChangeStatus = (userId, userStatus) => {\n        userManage(user.token, userId, userStatus)\n            .then((res) => {\n                console.log(\"BLOCK RES --->\", res)\n            })\n            .catch((err) => {\n                console.log(\"BLOCK ERR--->\", err)\n            })\n            toast.info(\"Status changed\");\n           setStatus(!status)\n\n    }\n\n\n    return (\n        <div className=\"container-fluid mt-5\">\n            <div className=\"row\">\n                <div className=\"col-md-2\">\n                    <AdminNav />\n                </div>\n\n                <div className=\"col-md-10\">\n                    <div className=\"mt-4\"><h2 className=\"text-secondary text-center shaw\">User Management</h2>\n                        <div className=\"\">\n                            <div className=\"m-4 text-center\">\n                                <table className=\"table table-bordered\">\n                                    <thead className=\"thead-light\">\n                                        <tr>\n                                            <th scope=\"col\">\n                                                Name\n                                            </th>\n                                            <th scope=\"col\">\n                                                Email\n                                            </th>\n                                            <th scope=\"col\">\n                                                Mobile\n                                            </th>\n                                            <th scope=\"col\">\n                                                Status\n                                            </th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {users.map((u, i) => (\n                                            <tr key={i}>\n                                                <td>\n                                                    {u.name}\n                                                </td>\n                                                <td>{u.email}</td>\n                                                <td>{u.mobile}</td>\n                                                <td>{u.status} - {(u.status !== \"active\") ? (<button className=\"btn btn-sm btn-raised grad-button text-success\" onClick={() => { handleChangeStatus(u._id, \"active\") }}>Unblock</button>) : (<button className=\"btn btn-sm btn-raised grad-button text-danger\" onClick={() => { handleChangeStatus(u._id, \"blocked\") }}>Block</button>)}</td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\nexport default UserManagement;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminNav = () => (\n  <nav>\n    <ul className=\"nav flex-column\">\n      <li className=\"nav-item btn btn-raised grad\">\n        <Link to=\"/admin/dashboard\" className=\"nav-link text-white shaw\">\n          Dashboard\n        </Link>\n      </li>\n\n      <li className=\"nav-item btn btn-raised grad\">\n        <Link to=\"/admin/order-management\" className=\"nav-link text-white shaw\">\n          Order Management\n        </Link>\n      </li>\n\n      <li className=\"nav-item btn btn-raised grad\">\n        <Link to=\"/admin/user-management\" className=\"nav-link text-white shaw\">\n          User Management\n        </Link>\n      </li>\n\n      <li className=\"nav-item btn btn-raised grad\">\n        <Link to=\"/admin/products\" className=\"nav-link text-white shaw\">\n          Product Management\n        </Link>\n      </li>\n\n      <li className=\"nav-item btn btn-raised grad\">\n        <Link to=\"/admin/category\" className=\"nav-link text-white shaw \">\n          Category Management\n        </Link>\n      </li>\n\n      <li className=\"nav-item btn btn-raised grad\">\n        <Link to=\"/admin/offer-management\" className=\"nav-link text-white shaw\">\n          Offer Management\n        </Link>\n      </li>\n\n      <li className=\"nav-item btn btn-raised grad\">\n        <Link to=\"/admin/sales\" className=\"nav-link text-white shaw\">\n          Sales\n        </Link>\n      </li>\n\n      <li className=\"nav-item btn btn-raised grad\">\n        <Link to=\"/admin/coupon\" className=\"nav-link text-white shaw\">\n          Coupon\n        </Link>\n      </li>\n\n    </ul>\n  </nav>\n);\n\nexport default AdminNav;\n","import axios from \"axios\";\n\nexport const getOrders = async (authtoken) =>\n  await axios.get(`${process.env.REACT_APP_API}/admin/orders`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const changeStatus = async (orderId, orderStatus, authtoken) =>\n  await axios.put(\n    `${process.env.REACT_APP_API}/admin/order-status`,\n    { orderId, orderStatus },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const getUsers = async (authtoken) =>\n  await axios.get(\n    `${process.env.REACT_APP_API}/admin/get-users`,\n    {\n      headers: {\n        authtoken,\n      },\n    }\n\n  )\n\nexport const userManage = async (authtoken, userId, userStatus) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/admin/user-manage`,\n    { userId, userStatus },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  )\n"],"sourceRoot":""}